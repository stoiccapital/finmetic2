<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monthly Budget Planner - Financial Engineering</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/app/styles/base.css">
    <link rel="stylesheet" href="/app/styles/components.css">
    <link rel="stylesheet" href="/app/styles/layout.css">
    <link rel="stylesheet" href="/app/styles/sidebar.css">
    <link rel="stylesheet" href="/app/styles/navbar.css">
    
    <!-- Budget Specific Styles -->
    <link rel="stylesheet" href="budget.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navigation Bar -->
    <div id="navbar-container"></div>

    <div class="main-layout">
        <!-- Include Sidebar -->
        <div id="sidebar-container"></div>
        
        <main class="main-content">
            <div class="container">
                <header class="budget-header">
                    <h1>Monthly Budget Planner</h1>
                    <p>Plan and track your monthly income and expenses</p>
                </header>

                <div class="budget-controls">
                    <div class="month-selector">
                        <label for="month-select">Select Month:</label>
                        <select id="month-select">
                            <option value="January">January</option>
                            <option value="February">February</option>
                            <option value="March">March</option>
                            <option value="April">April</option>
                            <option value="May">May</option>
                            <option value="June">June</option>
                            <option value="July">July</option>
                            <option value="August">August</option>
                            <option value="September">September</option>
                            <option value="October">October</option>
                            <option value="November">November</option>
                            <option value="December">December</option>
                        </select>
                        <select id="year-select">
                            <option value="2024">2024</option>
                            <option value="2025">2025</option>
                            <option value="2026">2026</option>
                        </select>
                    </div>
                </div>

                <div class="budget-content">
                    <!-- Add Income Section -->
                    <div class="income-section">
                        <h2>Add Income</h2>
                        <form id="income-form" class="budget-form">
                            <div class="form-grid">
                                <div class="input-group">
                                    <label for="income-description">Description:</label>
                                    <input type="text" id="income-description" placeholder="e.g., Salary, Freelance" required>
                                </div>
                                <div class="input-group">
                                    <label for="income-category">Category:</label>
                                    <select id="income-category" required>
                                        <option value="">Select category</option>
                                        <option value="salary">Salary/Wages</option>
                                        <option value="freelance">Freelance/Side Income</option>
                                        <option value="investments">Investment Income</option>
                                        <option value="business">Business Income</option>
                                        <option value="rental">Rental Income</option>
                                        <option value="other">Other Income</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label for="income-amount">Amount:</label>
                                    <input type="number" id="income-amount" placeholder="0.00" step="0.01" min="0" required>
                                </div>
                                <div class="input-group">
                                    <button type="submit" class="btn btn-income">Add Income</button>
                                </div>
                            </div>
                        </form>

                        <div class="income-list">
                            <h3>Income Items</h3>
                            <div id="income-items" class="items-list">
                                <div class="empty-message">No income items added yet</div>
                            </div>
                            <div class="total-income">
                                <strong>Total Income: $<span id="total-income">0.00</span></strong>
                            </div>
                        </div>
                    </div>

                    <!-- Add Expense Section -->
                    <div class="expenses-section">
                        <h2>Add Expense</h2>
                        <form id="expense-form" class="budget-form">
                            <div class="form-grid">
                                <div class="input-group">
                                    <label for="expense-description">Description:</label>
                                    <input type="text" id="expense-description" placeholder="e.g., Rent, Groceries" required>
                                </div>
                                <div class="input-group">
                                    <label for="expense-category">Category:</label>
                                    <select id="expense-category" required>
                                        <option value="">Select category</option>
                                        <option value="housing">Housing</option>
                                        <option value="transportation">Transportation</option>
                                        <option value="food">Food & Dining</option>
                                        <option value="entertainment">Entertainment</option>
                                        <option value="healthcare">Healthcare</option>
                                        <option value="utilities">Utilities</option>
                                        <option value="insurance">Insurance</option>
                                        <option value="debt">Debt Payments</option>
                                        <option value="savings">Savings & Investments</option>
                                        <option value="education">Education</option>
                                        <option value="clothing">Clothing</option>
                                        <option value="personal">Personal Care</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label for="expense-amount">Amount:</label>
                                    <input type="number" id="expense-amount" placeholder="0.00" step="0.01" min="0" required>
                                </div>
                                <div class="input-group">
                                    <button type="submit" class="btn btn-expense">Add Expense</button>
                                </div>
                            </div>
                        </form>

                        <div class="expense-list">
                            <h3>Expense Items</h3>
                            <div id="expense-items" class="items-list">
                                <div class="empty-message">No expense items added yet</div>
                            </div>
                            <div class="total-expenses">
                                <strong>Total Expenses: $<span id="total-expenses">0.00</span></strong>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Budget Summary -->
                <div class="budget-summary">
                    <h2>Budget Summary</h2>
                    <div class="summary-item">
                        <span>Total Income:</span>
                        <span class="income-amount">$<span id="summary-income">0.00</span></span>
                    </div>
                    <div class="summary-item">
                        <span>Total Expenses:</span>
                        <span class="expense-amount">$<span id="summary-expenses">0.00</span></span>
                    </div>
                    <div class="summary-item remaining-budget">
                        <span>Remaining Budget:</span>
                        <span class="remaining-amount">$<span id="remaining-budget">0.00</span></span>
                    </div>
                </div>

                <!-- Budget Actions -->
                <div class="budget-actions">
                    <button id="save-budget" class="btn btn-primary">Save Budget</button>
                    <button id="reset-budget" class="btn btn-secondary">Clear All</button>
                </div>

                <!-- Budget Visualization -->
                <div class="budget-visualization">
                    <h2>Budget Breakdown</h2>
                    <div class="chart-container">
                        <canvas id="budgetChart"></canvas>
                    </div>
                    <div class="budget-table">
                        <table id="budget-breakdown-table">
                            <thead>
                                <tr>
                                    <th>Category</th>
                                    <th>Amount</th>
                                    <th>Percentage</th>
                                </tr>
                            </thead>
                            <tbody id="budget-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="/app/components/sidebar.js"></script>
    <script src="/app/main.js"></script>
    <script src="budget.js"></script>
    <script>
        let budgetPlanner;
        
        // Initialize everything after DOM is loaded
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Load navbar component
                const navResponse = await fetch('/app/components/navbar.html');
                const navHtml = await navResponse.text();
                document.getElementById('navbar-container').innerHTML = navHtml;
                
                // Initialize navbar after HTML is loaded
                const navbarScript = document.createElement('script');
                navbarScript.src = '/app/components/navbar.js';
                document.body.appendChild(navbarScript);
                
                navbarScript.onload = () => {
                    // Navbar script is loaded, initialize it
                    window.navbar = new Navbar();
                };

                // Load sidebar component
                const sidebarResponse = await fetch('/app/components/sidebar.html');
                const sidebarHtml = await sidebarResponse.text();
                document.getElementById('sidebar-container').innerHTML = sidebarHtml;

                // Initialize budget planner
                budgetPlanner = new BudgetPlanner();
            } catch (error) {
                console.error('Error initializing page:', error);
            }
        });
    </script>
</body>
</html> 